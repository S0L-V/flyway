name: Discord Notify - Ready for Review

on:
  pull_request:
    types: [labeled]

jobs:
  notify:
    if: github.event.label.name == 'ready-for-review'
    runs-on: ubuntu-latest
    steps:
      - name: Send Discord notification
        env:
          DISCORD_WEBHOOK_URL: ${{ secrets.DISCORD_WEBHOOK_URL }}
        run: |
          MSG="ğŸ‘€ ë¦¬ë·° ìš”ì²­!\n**#${{ github.event.pull_request.number }} ${{ github.event.pull_request.title }}**\n${{ github.event.pull_request.html_url }}\nì‘ì„±ì: ${{ github.event.pull_request.user.login }}"

          curl -sS -X POST \
            -H "Content-Type: application/json" \
            -d "{\"content\":\"$MSG\"}" \
            "$DISCORD_WEBHOOK_URL"
